datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model PokemonBuild {
  id         Int      @id @default(autoincrement())
  name       String   // Pokemon name
  species    String?  // Pokemon species (same as name for now)
  gender     String?  // Pokemon gender (M, F, or U for unknown/genderless)
  level      Int      @default(50) // Pokemon level
  tier       String   // Tier (e.g., OU, UU, etc.)
  moves      String   // JSON string of moves array
  item       String?  // Held item
  nature     String?  // Pokemon nature
  ability    String?  // Pokemon ability
  // IVs (Individual Values) - 0-31 for each stat
  hpIV       Int      @default(31)
  attackIV   Int      @default(31)
  defenseIV  Int      @default(31)
  spAttackIV Int      @default(31)
  spDefenseIV Int     @default(31)
  speedIV    Int      @default(31)
  // EVs (Effort Values) - 0-252 for each stat, max 510 total
  hpEV       Int      @default(0)
  attackEV   Int      @default(0)
  defenseEV  Int      @default(0)
  spAttackEV Int      @default(0)
  spDefenseEV Int     @default(0)
  speedEV    Int      @default(0)
  // Metadata
  description String? // Optional description
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model ShinyHunt {
  id            Int      @id @default(autoincrement())
  pokemonId     Int      // National Dex ID (1-649 for Gen 1-5)
  pokemonName   String   // Pokemon name
  method        String   // Hunting method: "Hordes 5x", "Hordes 3x", "Singles / Lures", "Safari", "Egg (including Alphas)", "Honey"
  startDate     DateTime @default(now())
  phaseCount    Int      @default(1) // Current phase number
  totalEncounters Int    @default(0) // Total encounters across all phases
  isCompleted   Boolean  @default(false)
  notes         String?  // User notes
  phasePokemon  String?  // JSON array of Pokemon encountered in each phase
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model ShinyPortfolio {
  id            Int      @id @default(autoincrement())
  pokemonId     Int      // National Dex ID (1-649 for Gen 1-5)
  pokemonName   String   // Pokemon name
  method        String   // Method used to find this shiny
  dateFound     DateTime @default(now())
  nature        String?  // Pokemon nature
  encounterCount Int?    // Optional encounter count
  // IVs (Individual Values) - 0-31 for each stat
  hpIV          Int?     // Optional IV tracking
  attackIV      Int?
  defenseIV     Int?
  spAttackIV    Int?
  spDefenseIV   Int?
  speedIV       Int?
  notes         String?  // Optional notes
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}
